{"version":3,"sources":["webpack:///C:/Users/sansui/Desktop/Dsshop/components/sku/index.vue?3b67","webpack:///C:/Users/sansui/Desktop/Dsshop/components/sku/index.vue?9116","webpack:///C:/Users/sansui/Desktop/Dsshop/components/sku/index.vue?c567","webpack:///C:/Users/sansui/Desktop/Dsshop/components/sku/index.vue?c710","uni-app:///components/sku/index.vue","webpack:///C:/Users/sansui/Desktop/Dsshop/components/sku/index.vue?0a8a","webpack:///C:/Users/sansui/Desktop/Dsshop/components/sku/index.vue?d300"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmlB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiEvmB;AACA,2F;AACA;AACA,aADA;AAEA;AACA,8BADA,EAFA;;AAKA;AACA;AACA,kBADA;AAEA;AACA;AACA,OAJA,EADA;;AAOA;AACA,kBADA;AAEA;AACA;AACA,OAJA,EAPA;;AAaA;AACA,mBADA;AAEA,oBAFA,EAbA;;AAiBA;AACA,mBADA;AAEA,oBAFA,EAjBA;;AAqBA;AACA,mBADA;AAEA,oBAFA,EArBA,EALA;;;AA+BA,MA/BA,kBA+BA;AACA;AACA;AACA,iBADA;AAEA,iBAFA,EADA;;AAKA,sBALA;AAMA,mBANA;AAOA,kBAPA,EAOA;AACA,qBARA,EAQA;AACA,4BATA,EASA;AACA,2BAVA,EAUA;AACA,qBAXA;AAYA,sBAZA,EAYA;AACA,wBAbA,EAaA;AACA,qCAdA,EAcA;AACA,uBAfA;AAgBA,4BAhBA,EAgBA;AACA,4BAjBA;AAkBA,wBAlBA;;AAoBA,GApDA;AAqDA;AACA,WADA,mBACA,MADA,EACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KARA;AASA,OATA,eASA,MATA,EASA;AACA;AACA,KAXA;AAYA,YAZA,oBAYA,MAZA,EAYA;AACA;;AAEA,KAfA;AAgBA,eAhBA,uBAgBA,MAhBA,EAgBA;AACA;AACA;AACA,KAnBA,EArDA;;AA0EA;AACA;AACA,YAFA,sBAEA;AACA;AACA;AACA;AACA,0DADA,CACA,WADA,eACA,WADA,CACA,aADA,eACA,aADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;;AAIA,WANA;AAOA,SAVA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA,WALA;AAMA,SAPA;AAQA;AACA;AACA,kDADA;AAEA,8CAFA;AAGA,sDAHA;AAIA,+CAJA;;AAMA;AACA,OAjCA,MAiCA;AACA;AACA,kDADA;AAEA,8CAFA;AAGA,sDAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApDA;AAqDA;AACA,kBAtDA,0BAsDA,MAtDA,EAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAPA,CAOA;AACA,8BARA,CAQA;AACA;AACA;AACA,0DADA,CACA,WADA,gBACA,WADA,CACA,aADA,gBACA,aADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;;AAIA,WAlBA;AAmBA,SApBA;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA,WALA;AAMA,SAPA;AAQA;AACA;AACA,uBADA;AAEA,2CAFA;AAGA,iDAHA;AAIA,8CAJA;;AAMA;AACA;AACA;AACA,6BAvDA,CAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WALA;AAMA,SAPA;AAQA;AACA;AACA,SAFA;;AAIA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAtBA;AAuBA,KAtIA;AAuIA;AACA;AACA;AACA,KA1IA;AA2IA;AACA,cA5IA,sBA4IA,KA5IA,EA4IA,UA5IA,EA4IA,GA5IA,EA4IA;AACA;AACA;AACA;AACA,4BAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;;AAMA;;AAEA;AACA;AACA,kDADA;AAEA,8CAFA;AAGA,sDAHA;AAIA,+CAJA;;AAMA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA,yBAnDA,CAmDA;AACA,8BApDA,CAoDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SARA,MAQA;AACA;AACA;AACA,OAbA;;AAeA;AACA,6BAtEA,CAsEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WALA;AAMA,SAPA;AAQA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OArBA;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA;AAGA;AACA,kIADA;AAEA,yDAFA;AAGA,+DAHA;AAIA,wDAJA;AAKA,4DALA;;AAOA;AACA;AACA;AACA;AACA;AACA,6BAlBA,0BAkBA;AACA;AACA;AACA;AACA,KAzQA;AA0QA;AACA,gBA3QA,wBA2QA,IA3QA,EA2QA;AACA;AACA,KA7QA;AA8QA;AACA,QA/QA,kBA+QA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,4BAFA;AAGA,0BAHA;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DADA;AAEA,sCAFA;AAGA,wCAHA;AAIA,0CAJA;AAKA,qDALA;AAMA,uCANA;AAOA,iCAPA;AAQA,+CARA;AASA,sBATA;;AAWA;AACA;;AAEA,SArBA,MAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aApBA,MAoBA;AACA;AACA,0CADA;AAEA,4CAFA;AAGA,wCAHA;AAIA,yCAJA;AAKA,mCALA;AAMA,uDANA;AAOA,iDAPA;AAQA,yBARA;;AAUA;AACA,WA1CA,MA0CA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAhBA,MAgBA;AACA;AACA,0CADA;AAEA,4CAFA;AAGA,wCAHA;AAIA,yCAJA;AAKA,mCALA;AAMA,yBANA;;AAQA;;AAEA;;AAEA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,SADA,MACA;AACA;AACA;AACA,yCADA;;AAGA,WAJA,MAIA;AACA;AACA,8BADA;AAEA,4BAFA;;AAIA;;AAEA;AACA,+BA1IA,CA0IA;AACA,OA3IA,MA2IA;AACA;AACA,sBADA;AAEA,wBAFA;AAGA,wBAHA;;AAKA;;AAEA,KApaA;AAqaA;AACA,YAtaA,sBAsaA;AACA;AACA,iBADA;AAEA,iBAFA;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxbA;AAybA,gBAzbA,wBAybA,QAzbA,EAybA;AACA;AACA;AACA;AACA,kBADA;AAEA,oBAFA;;AAIA,KAhcA,EA1EA,E;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAA4kC,CAAgB,yjCAAG,EAAC,C;;;;;;;;;;;ACAhmC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/sku/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=761096b5&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/sku/index.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=761096b5&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<!-- \r\n使用方法 \r\n <sku :getList=\"getList\" @toggleSpec=\"toggleSpec\"></sku>\r\n getList：商品数据\r\n update: 是否是更新\r\n\r\n cartDetails: 购物车时的单条数据\r\n @toggleSpec:弹出框操作\r\n @purchasePattern: 购买类型展示\r\n @loadCart:完成时触发\r\n \r\n order: 是否是订单\r\n @setOrder:修改后传给父节点的值，用来父节点商品更新\r\n -->\r\n<template>\r\n\t<view>\r\n\t\t<view class=\"a-t\">\r\n\t\t\t<image :src=\"specificationDefaultDisplay.img\" @click=\"previewImage(specificationDefaultDisplay.img)\"></image>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<template v-if=\"getLists.price_show && specificationDefaultDisplay.price_show\">\r\n\t\t\t\t\t<text class=\"price\" v-if=\"specificationDefaultDisplay.price_show.length > 1\">¥{{specificationDefaultDisplay.price_show[0]}} - {{specificationDefaultDisplay.price_show[1]}}</text>\r\n\t\t\t\t\t<text class=\"price\" v-else-if=\"specificationDefaultDisplay.price_show.length === 1\">¥{{specificationDefaultDisplay.price_show[0]}}</text>\r\n\t\t\t\t</template>\r\n\t\t\t\t<text class=\"stock\">库存：{{specificationDefaultDisplay.inventory_show}}件</text>\r\n\t\t\t\t<view class=\"selected\">\r\n\t\t\t\t\t<text class=\"selected-text\" >{{ specificationDefaultDisplay.selected }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<scroll-view scroll-y=\"true\" class=\"specification\">\r\n\t\t\t<view v-for=\"(item, index) in specification\" :key=\"index\" class=\"attr-list\">\r\n\t\t\t\t<text>{{ item.value }}</text>\r\n\t\t\t\t<view class=\"item-list\">\r\n\t\t\t\t\t<text\r\n\t\t\t\t\t\tv-for=\"(childItem, childIndex) in item.leaf\"\r\n\t\t\t\t\t\t:key=\"childIndex\"\r\n\t\t\t\t\t\tclass=\"tit clamp\"\r\n\t\t\t\t\t\t:class=\"{ selected: childItem.selected, disabled: childItem.disabled}\"\r\n\t\t\t\t\t\t@click=\"selectSpec(index, childIndex,childItem)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ childItem.value }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"attr-list\">\r\n\t\t\t\t<text class=\"item-left\">购买数量</text>\r\n\t\t\t\t<view class=\"item-right\">\r\n\t\t\t\t\t<uni-number-box\r\n\t\t\t\t\t\tclass=\"step\"\r\n\t\t\t\t\t\t:min=\"1\" \r\n\t\t\t\t\t\t:max=\"specificationDefaultDisplay.inventory_show\"\r\n\t\t\t\t\t\t:value=\"cartGood.number>specificationDefaultDisplay.inventory_show?specificationDefaultDisplay.inventory_show:cartGood.number\"\r\n\t\t\t\t\t\t:isMax=\"cartGood.number >= specificationDefaultDisplay.inventory_show ? true : false\"\r\n\t\t\t\t\t\t:isMin=\"cartGood.number===1\"\r\n\t\t\t\t\t\t@eventChange=\"numberChange\"\r\n\t\t\t\t\t></uni-number-box>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<button class=\"btn\" @click=\"cart\">完成</button>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport uniNumberBox from '@/components/uni-number-box.vue'\r\nimport { param2Data } from '@/components/sku/sku2param'\r\nimport GoodIndent from '@/api/goodIndent'\r\nexport default{\r\n\tname: 'sku',\r\n\tcomponents: {\r\n\t\tuniNumberBox\r\n\t},\r\n\tprops: {\r\n\t\tgetList: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: function(){\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t},\r\n\t\tcartDetails: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: function(){\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdate: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\torder: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tbuy: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcartGood: {\r\n\t\t\t\tnumber: 1,\r\n\t\t\t\tprice: ''\r\n\t\t\t},\r\n\t\t\tspecSelected:[],\r\n\t\t\tSKUResult: {},\r\n\t\t\tgood_sku: {}, //原sku属性\r\n\t\t\tselectedSku: [], //记录当前所有可以选择的项\r\n\t\t\tselectedSkuIndex: [[]],\t//获取可选项对应的坐标\r\n\t\t\tspecSelectedIndex: [], //记录选中的坐标\r\n\t\t\tproductSkus: [],\r\n\t\t\tselectedName: [],\t//已选属性\r\n\t\t\tnoSelectedName: [],\t//未选属性\r\n\t\t\tspecificationDefaultDisplay: {},// 规格默认显示\r\n\t\t\tspecification: [],\r\n\t\t\tshoppingAttributes: [],\t//购物属性\r\n\t\t\tgetLists:this.getList,\r\n\t\t\tbuyState: this.buy\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tgetList(newVal) {\r\n\t\t\tthis.$emit('getList', newVal)\r\n\t\t\tthis.getLists = this.getList\r\n\t\t\tif(!this.update){\r\n\t\t\t\tthis.loadData()\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tbuy(newVal) {\r\n\t\t\tthis.buyState = newVal\r\n\t\t},\r\n\t\tgetLists(newVal) {\r\n\t\t\tthis.$emit('getLists', newVal)\r\n\t\t\t\r\n\t\t},\r\n\t\tcartDetails(newVal) {\r\n\t\t\tthis.getLists = newVal.good\r\n\t\t\tthis.initSelectSpec(newVal)\r\n\t\t},\r\n\t},\r\n\tmethods:{\r\n\t\t//获取详情\r\n\t\tloadData() {\r\n\t\t\tthis.selectedSku = []\r\n\t\t\t// sku\r\n\t\t\tif (this.getLists.good_sku.length > 0) {\r\n\t\t\t\tconst { productSkus, specification } = param2Data(this.getLists.good_sku)\r\n\t\t\t\tthis.specification = specification\r\n\t\t\t\tspecification.forEach((item,index)=>{\r\n\t\t\t\t\tthis.specSelectedIndex.push(null)\r\n\t\t\t\t\tthis.noSelectedName.push(item.value)\r\n\t\t\t\t\titem.leaf.forEach((item2,index2)=>{\r\n\t\t\t\t\t\tthis.selectedSku.push(item2.id)\r\n\t\t\t\t\t\tthis.selectedSkuIndex[item2.id]={\r\n\t\t\t\t\t\t\tindex: index,\r\n\t\t\t\t\t\t\tleaf:index2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// return false\r\n\t\t\t\tthis.productSkus = productSkus\r\n\t\t\t\t// 获取可选集成\r\n\t\t\t\tproductSkus.forEach((item,ind)=>{\r\n\t\t\t\t\titem.data.forEach(item2=>{\r\n\t\t\t\t\t\titem2.sort(function(value1, value2) {\r\n\t\t\t\t\t\t\treturn parseInt(value1.replace(\"sku\",\"\")) - parseInt(value2.replace(\"sku\",\"\"));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.SKUResult[item2.join(\"_\")]=true\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// 规格默认属性\r\n\t\t\t\tthis.specificationDefaultDisplay = {\r\n\t\t\t\t\timg: this.getLists.resources_many[0].img,\r\n\t\t\t\t\tprice_show: this.getLists.price_show,\r\n\t\t\t\t\tinventory_show: this.getLists.inventory_show,\r\n\t\t\t\t\tselected: '选择 ' + this.noSelectedName\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('purchasePattern','选择 ' + this.noSelectedName)\r\n\t\t\t}else{\r\n\t\t\t\tthis.specificationDefaultDisplay = {\r\n\t\t\t\t\timg: this.getLists.resources_many[0].img,\r\n\t\t\t\t\tprice_show: this.getLists.price_show,\r\n\t\t\t\t\tinventory_show: this.getLists.inventory_show\r\n\t\t\t\t}\r\n\t\t\t\tthis.cartGood.price = this.getLists.price\r\n\t\t\t}\r\n\t\t\t//自动选择默认第一项规格\r\n\t\t\tif (typeof(this.specification[0].leaf[0]) != 'undefined'){\r\n\t\t\t\tfor (var i=0;i<this.specification.length;i++){\r\n\t\t\t\t\tthis.selectSpec(i, 0,this.specification[i].leaf[0])\r\n\t\t\t\t}\t\t\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\t//初始化选中项\r\n\t\tinitSelectSpec(newVal){\r\n\t\t\tthis.selectedSku = []\r\n\t\t\tthis.SKUResult = []\r\n\t\t\tthis.cartGood.price = newVal.price\r\n\t\t\tthis.cartGood.number = newVal.number\r\n\t\t\tthis.shoppingAttributes = newVal.good_sku\r\n\t\t\tthis.good_sku = newVal.good_sku\r\n\t\t\tlet checkedId = []\t//选中的ID\r\n\t\t\tlet checkedBrother = []\t//兄弟列表\r\n\t\t\t// sku\r\n\t\t\tif (newVal.good_sku) {\r\n\t\t\t\tconst { productSkus, specification } = param2Data(this.getLists.good_sku)\r\n\t\t\t\tthis.specification = specification\r\n\t\t\t\tspecification.forEach((item,index)=>{\r\n\t\t\t\t\titem.leaf.forEach((item2,index2)=>{\r\n\t\t\t\t\t\t// 设置选中的值\r\n\t\t\t\t\t\tfor (var i = 0; i < newVal.good_sku.product_sku.length; i++) {\r\n\t\t\t\t\t\t\tif(item2.value === newVal.good_sku.product_sku[i].value){\r\n\t\t\t\t\t\t\t\titem.leaf[index2].selected = true\r\n\t\t\t\t\t\t\t\tthis.specSelectedIndex[index]=index2\r\n\t\t\t\t\t\t\t\tif(index2 !== null){\r\n\t\t\t\t\t\t\t\t\tcheckedId.push(specification[index]['leaf'][index2]['id'])\r\n\t\t\t\t\t\t\t\t\tcheckedBrother.push(index)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.selectedSku.push(item2.id)\r\n\t\t\t\t\t\tthis.selectedSkuIndex[item2.id]={\r\n\t\t\t\t\t\t\tindex: index,\r\n\t\t\t\t\t\t\tleaf:index2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.productSkus = productSkus\r\n\t\t\t\t// 获取可选集成\r\n\t\t\t\tproductSkus.forEach((item,ind)=>{\r\n\t\t\t\t\titem.data.forEach(item2=>{\r\n\t\t\t\t\t\titem2.sort(function(value1, value2) {\r\n\t\t\t\t\t\t\treturn parseInt(value1.replace(\"sku\",\"\")) - parseInt(value2.replace(\"sku\",\"\"));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.SKUResult[item2.join(\"_\")]=true\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.specificationDefaultDisplay = {\r\n\t\t\t\timg: newVal.img,\r\n\t\t\t\tprice_show: [newVal.good_sku.price],\r\n\t\t\t\tinventory_show: newVal.good_sku.inventory,\r\n\t\t\t\tselected: '已选 ' + newVal.specification\r\n\t\t\t}\r\n\t\t\t// 处理不可选项\r\n\t\t\tlet selectedSkus =JSON.parse(JSON.stringify(this.selectedSku))\r\n\t\t\t//判断属性是否可选\r\n\t\t\tlet assemblyCache = []\t//组合临时存放\r\n\t\t\t// 去除选中后的可选项\r\n\t\t\tselectedSkus.forEach(item=>{\t//选把未选中的和选中的组合，如果是选中兄弟节点，把选中的值移除\r\n\t\t\t\tassemblyCache = JSON.parse(JSON.stringify(checkedId))\r\n\t\t\t\tassemblyCache.push(item)\r\n\t\t\t\tcheckedBrother.forEach((item2,index2)=>{\r\n\t\t\t\t\tthis.specification[item2].leaf.forEach(item3=>{\r\n\t\t\t\t\t\t// 和选中行是兄弟关系\r\n\t\t\t\t\t\tif(item3.id === item){\r\n\t\t\t\t\t\t\tassemblyCache.splice(assemblyCache.indexOf(checkedId[index2]),1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tassemblyCache.sort(function(value1, value2) {\r\n\t\t\t\t\treturn parseInt(value1.replace(\"sku\",\"\")) - parseInt(value2.replace(\"sku\",\"\"));\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// assembly.push(assemblyCache.join(\"_\"))\r\n\t\t\t\t// 判断选择项是否在可选集合内\r\n\t\t\t\tif(!this.SKUResult[assemblyCache.join(\"_\")]){\r\n\t\t\t\t\tthis.specification[this.selectedSkuIndex[item].index].leaf[this.selectedSkuIndex[item].leaf].disabled = true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.specification[this.selectedSkuIndex[item].index].leaf[this.selectedSkuIndex[item].leaf].disabled = false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t//输入价格\r\n\t\tpriceInput: function(event) {\r\n\t\t\tthis.cartGood.price = parseFloat(event.target.value)\r\n        },\r\n\t\t//选择规格\r\n\t\tselectSpec(index, childIndex,res){\r\n\t\t\tif (res.disabled){\t//不可选的直接返回\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tlet chooseAll = false\t//是否选全\r\n\t\t\tlet specification = this.specification\r\n\t\t\t// 选中的清空\r\n\t\t\tif (this.specSelectedIndex[index] === childIndex){\t//选择结果相同处理\r\n\t\t\t\tthis.$set(specification[index]['leaf'][childIndex], 'selected', specification[index]['leaf'][childIndex]['selected'] ? false : true)\r\n\t\t\t\tthis.specSelectedIndex[index]= null\r\n\t\t\t\t// 添加未选择的值\r\n\t\t\t\tthis.noSelectedName.splice(index,0,specification[index].value)\r\n\t\t\t} else {\t//选择不同的处理\r\n\t\t\t\tif(this.specSelectedIndex[index] !== null){\t//不等于null的时候把同个规格的其它参数设为未选中\r\n\t\t\t\t\tthis.$set(specification[index]['leaf'][this.specSelectedIndex[index]], 'selected',false)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.$set(specification[index]['leaf'][childIndex], 'selected', specification[index]['leaf'][childIndex]['selected'] ? false : true)\r\n\t\t\t\tthis.specSelectedIndex[index]=childIndex\r\n\t\t\t\t// this.noSelectedName\r\n\t\t\t\t// 删除选中的元素\r\n\t\t\t\tthis.noSelectedName.forEach((item,indexs)=>{\r\n\t\t\t\t\tif(item === specification[index].value){\r\n\t\t\t\t\t\tthis.noSelectedName.splice(indexs,1)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(this.noSelectedName.length > 0){\r\n\t\t\t\tthis.specificationDefaultDisplay = {\r\n\t\t\t\t\timg: this.getLists.resources_many[0].img,\r\n\t\t\t\t\tprice_show: this.getLists.price_show,\r\n\t\t\t\t\tinventory_show: this.getLists.inventory_show,\r\n\t\t\t\t\tselected: '选择 ' + this.noSelectedName\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.update){\r\n\t\t\t\t\tthis.$emit('purchasePattern','选择 ' + this.noSelectedName)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t//保存最新选择的位置\r\n\t\t\t\r\n\t\t\t//存储已选择\r\n\t\t\t/**\r\n\t\t\t * 修复选择规格存储错误\r\n\t\t\t * 将这几行代码替换即可\r\n\t\t\t * 选择的规格存放在specSelected中\r\n\t\t\t */\r\n\t\t\tthis.specSelected = []\r\n\t\t\tlet ids = ''\r\n\t\t\tlet checkedId = []\t//选中的ID\r\n\t\t\tlet checkedBrother = []\t//兄弟列表\r\n\t\t\tlet selectedSkus =JSON.parse(JSON.stringify(this.selectedSku))\r\n\t\t\tthis.specSelectedIndex.forEach((item,index)=>{\r\n\t\t\t\t\r\n\t\t\t\tif(item !== null){\r\n\t\t\t\t\tthis.specSelected.push(specification[index]['leaf'][item])\r\n\t\t\t\t\tids += specification[index]['id'] + '-' + specification[index]['leaf'][item]['id'] + '_'\r\n\t\t\t\t\tcheckedId.push(specification[index]['leaf'][item]['id'])\r\n\t\t\t\t\tselectedSkus.splice(selectedSkus.indexOf(specification[index]['leaf'][item]['id']),1)\r\n\t\t\t\t\tcheckedBrother.push(index)\r\n\t\t\t\t\t\r\n\t\t\t\t\tchooseAll = true\r\n\t\t\t\t}else {\r\n\t\t\t\t\tchooseAll = false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t//判断属性是否可选\r\n\t\t\tlet assemblyCache = []\t//组合临时存放\r\n\t\t\t\r\n\t\t\t// 去除选中后的可选项\r\n\t\t\tselectedSkus.forEach(item=>{\t//选把未选中的和选中的组合，如果是选中兄弟节点，把选中的值移除\r\n\t\t\t\tassemblyCache = JSON.parse(JSON.stringify(checkedId))\r\n\t\t\t\tassemblyCache.push(item)\r\n\t\t\t\tcheckedBrother.forEach((item2,index2)=>{\r\n\t\t\t\t\tthis.specification[item2].leaf.forEach(item3=>{\r\n\t\t\t\t\t\t// 和选中行是兄弟关系\r\n\t\t\t\t\t\tif(item3.id === item){\r\n\t\t\t\t\t\t\tassemblyCache.splice(assemblyCache.indexOf(checkedId[index2]),1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tassemblyCache.sort(function(value1, value2) {\r\n\t\t\t\t\treturn parseInt(value1.replace(\"sku\",\"\")) - parseInt(value2.replace(\"sku\",\"\"));\r\n\t\t\t\t})\r\n\t\t\t\t// assembly.push(assemblyCache.join(\"_\"))\r\n\t\t\t\t// 判断选择项是否在可选集合内\r\n\t\t\t\tif(!this.SKUResult[assemblyCache.join(\"_\")]){\r\n\t\t\t\t\tspecification[this.selectedSkuIndex[item].index].leaf[this.selectedSkuIndex[item].leaf].disabled = true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tspecification[this.selectedSkuIndex[item].index].leaf[this.selectedSkuIndex[item].leaf].disabled = false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// console.log(ids.substr(0, ids.length - 1))\r\n\t\t\t// 选项已选择\r\n\t\t\tif(chooseAll === true){\r\n\t\t\t\tthis.cartGood.number = 1\r\n\t\t\t\tthis.shoppingAttributes = []\r\n\t\t\t\tfor (var i = 0; i < this.productSkus.length; i++) {\r\n\t\t\t\t\tif(this.productSkus[i].ids === ids.substr(0, ids.length - 1)){\r\n\t\t\t\t\t\tconst specificationDefaultDisplay = this.specificationDefaultDisplay\r\n\t\t\t\t\t\tconst selectedName= []\r\n\t\t\t\t\t\tthis.productSkus[i].skus.forEach(items=>{\r\n\t\t\t\t\t\t\tselectedName.push(items.v)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.specificationDefaultDisplay = {\r\n\t\t\t\t\t\t\timg: this.productSkus[i].resources ? this.productSkus[i].resources.img : this.getLists.resources_many[0].img,\r\n\t\t\t\t\t\t\tprice_show: [this.productSkus[i].price],\r\n\t\t\t\t\t\t\tinventory_show: this.productSkus[i].inventory,\r\n\t\t\t\t\t\t\tselected: '已选 ' + selectedName.join(\";\"),\r\n\t\t\t\t\t\t\tcost_price: this.productSkus[i].cost_price\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!this.update){\r\n\t\t\t\t\t\t\tthis.$emit('purchasePattern','已选 ' + selectedName.join(\";\"))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.cartGood.price = this.productSkus[i].price\r\n\t\t\t\t\t\tthis.shoppingAttributes = this.productSkus[i]\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t//数量\r\n\t\tnumberChange(data){\r\n\t\t\tthis.cartGood.number = data.number\r\n\t\t},\r\n\t\t//加入购物车\r\n\t\tcart(){\r\n\t\t\t// 单品或已选规格\r\n\t\t\tif(this.shoppingAttributes.id > 0 || this.getLists.good_sku.length === 0){\r\n\t\t\t\tconst tmp = /^\\d+\\.?\\d{0,2}$/\r\n\t\t\t\tif (!tmp.test(this.cartGood.price)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t    title: '输入的金额有误',\r\n\t\t\t\t\t    duration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('toggleSpec')\r\n\t\t\t\t\r\n\t\t\t\tif(this.order){\t//订单更新，直接返回更新后的数据\r\n\t\t\t\t\t// 非SKU商品不允许订单下修改，故不做处理\r\n\t\t\t\t\tif(this.getLists.good_sku.length>0){\r\n\t\t\t\t\t\tlet img = this.getLists.resources_many[0].img\r\n\t\t\t\t\t\tif(this.shoppingAttributes.resources){\r\n\t\t\t\t\t\t\timg = this.shoppingAttributes.resources.img\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet cart={\r\n\t\t\t\t\t\t\tid: this.cartDetails.id ? this.cartDetails.id : 0,\r\n\t\t\t\t\t\t\tname: this.getLists.name,\r\n\t\t\t\t\t\t\tprice: this.cartGood.price,\r\n\t\t\t\t\t\t\tnumber: this.cartGood.number,\r\n\t\t\t\t\t\t\tgood_sku_id:this.shoppingAttributes.id,\r\n\t\t\t\t\t\t\tgood_id: this.getLists.id,\r\n\t\t\t\t\t\t\tgood: this.getLists,\r\n\t\t\t\t\t\t\tgood_sku:this.shoppingAttributes,\r\n\t\t\t\t\t\t\timg: img\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$emit('setOrder',cart)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// uni.removeStorageSync('cartList')\r\n\t\t\t\t\tlet cartList =  uni.getStorageSync('dsshopCartList') || {}\r\n\t\t\t\t\tif(this.buyState){\t//直接购买\r\n\t\t\t\t\t\tcartList = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet img = this.getLists.resources_many[0].img\r\n\t\t\t\t\t//sku\r\n\t\t\t\t\tif(this.getLists.good_sku.length>0){\r\n\t\t\t\t\t\tif(this.shoppingAttributes.resources){\r\n\t\t\t\t\t\t\timg = this.shoppingAttributes.resources.img\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this.update){ //更新\r\n\t\t\t\t\t\t\t// 判断用户是否更改了SKU\r\n\t\t\t\t\t\t\tif(this.good_sku.id !== this.shoppingAttributes.id){\r\n\t\t\t\t\t\t\t\tdelete cartList[this.good_sku.id]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(cartList[this.shoppingAttributes.id]){\t//已存在，更新其它属性，增加新添加的数量\r\n\t\t\t\t\t\t\tif(this.update){ //更新\r\n\t\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].number= this.cartGood.number\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].number+= this.cartGood.number\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//如果购物车商品购买数大于当前库存，将结果改成库存数量\r\n\t\t\t\t\t\t\tif(cartList[this.shoppingAttributes.id].number > this.specificationDefaultDisplay.inventory_show){\r\n\t\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].number = this.specificationDefaultDisplay.inventory_show\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].price = this.cartGood.price\r\n\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].name = this.getLists.name\r\n\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].good_id = this.getLists.id\r\n\t\t\t\t\t\t\tconst good = JSON.parse(JSON.stringify(this.getLists))\r\n\t\t\t\t\t\t\tdelete good.details\r\n\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].good = good\r\n\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].good_sku_id = this.shoppingAttributes.id\r\n\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].good_sku = this.shoppingAttributes\r\n\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id].img = img\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tcartList[this.shoppingAttributes.id]={\r\n\t\t\t\t\t\t\t\tprice: this.cartGood.price,\r\n\t\t\t\t\t\t\t\tnumber: this.cartGood.number,\r\n\t\t\t\t\t\t\t\tname: this.getLists.name,\r\n\t\t\t\t\t\t\t\tgood_id: this.getLists.id,\r\n\t\t\t\t\t\t\t\tgood: this.getLists,\r\n\t\t\t\t\t\t\t\tgood_sku_id:this.shoppingAttributes.id,\r\n\t\t\t\t\t\t\t\tgood_sku:this.shoppingAttributes,\r\n\t\t\t\t\t\t\t\timg: img\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(cartList['good_' + this.getLists.id]){\r\n\t\t\t\t\t\t\tif(this.update){ //更新\r\n\t\t\t\t\t\t\t\tcartList['good_' + this.getLists.id].number= this.cartGood.number\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tcartList['good_' + this.getLists.id].number+= this.cartGood.number\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//如果购物车商品购买数大于当前库存，将结果改成库存数量\r\n\t\t\t\t\t\t\tif(cartList['good_' + this.getLists.id].number > this.getLists.inventory_show){\r\n\t\t\t\t\t\t\t\tcartList['good_' + this.getLists.id].number = this.getLists.inventory_show\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcartList['good_' + this.getLists.id].price = this.cartGood.price\r\n\t\t\t\t\t\t\tcartList['good_' + this.getLists.id].name = this.getLists.name\r\n\t\t\t\t\t\t\tcartList['good_' + this.getLists.id].good_id = this.getLists.id\r\n\t\t\t\t\t\t\tcartList['good_' + this.getLists.id].good = this.getLists\r\n\t\t\t\t\t\t\tcartList['good_' + this.getLists.id].img = img\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tcartList['good_' + this.getLists.id]={\r\n\t\t\t\t\t\t\t\tprice: this.cartGood.price,\r\n\t\t\t\t\t\t\t\tnumber: this.cartGood.number,\r\n\t\t\t\t\t\t\t\tname: this.getLists.name,\r\n\t\t\t\t\t\t\t\tgood_id: this.getLists.id,\r\n\t\t\t\t\t\t\t\tgood: this.getLists,\r\n\t\t\t\t\t\t\t\timg: img\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.buyState){\t//直接购买\r\n\t\t\t\t\t\tuni.setStorageSync('dsshopOrderList', cartList)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// 发送给后台\r\n\t\t\t\t\t\tGoodIndent.addShoppingCart(cartList,function(res){})\r\n\t\t\t\t\t\tuni.setStorageSync('dsshopCartList', cartList)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.initList()\r\n\t\t\t\tif(this.update){ //更新\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(this.buyState){\t//直接购买\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: `/pages/indent/create`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t    title: '成功加入购物车',\r\n\t\t\t\t\t\t    duration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('loadCart') //重载数据\r\n\t\t\t} else{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t    title: '请选择规格',\r\n\t\t\t\t    duration: 2000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t//初始化\r\n\t\tinitList(){\r\n\t\t\tthis.cartGood= {\r\n\t\t\t\tnumber: 1,\r\n\t\t\t\tprice: ''\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.specification = []\r\n\t\t\tthis.specificationDefaultDisplay = []\r\n\t\t\tthis.SKUResult = []\r\n\t\t\tthis.specSelected = []\r\n\t\t\tthis.specSelectedIndex= []\r\n\t\t\tthis.selectedName = []\r\n\t\t\tthis.noSelectedName = []\r\n\t\t\tthis.selectedSku = []\r\n\t\t\tthis.selectedSkuIndex = [[]]\r\n\t\t\tthis.productSkus = []\r\n\t\t\tthis.shoppingAttributes = []\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\tpreviewImage(imageUrl){ \r\n\t\t\tvar images = [];\r\n\t\t\timages.push(imageUrl);\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent:0,\r\n\t\t\t\turls:images,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n/* 规格选择弹窗 */\r\n.attr-content {\r\n\tpadding: 10upx 30upx;\r\n\t.a-t {\r\n\t\tdisplay: flex;\r\n\t\timage {\r\n\t\t\twidth: 170upx;\r\n\t\t\theight: 170upx;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tmargin-top: -40upx;\r\n\t\t\tborder-radius: 8upx;\r\n\t\t}\r\n\t\t.right {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tpadding-left: 24upx;\r\n\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\tcolor: $font-color-base;\r\n\t\t\tline-height: 42upx;\r\n\t\t\t.price {\r\n\t\t\t\tfont-size: $font-lg;\r\n\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t\tmargin-bottom: 10upx;\r\n\t\t\t}\r\n\t\t\t.selected-text {\r\n\t\t\t\tmargin-right: 10upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.specification{\r\n\t\tmax-height: 700upx;\r\n\t\toverflow-y:auto;\r\n\t}\r\n\t.attr-list {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tfont-size: $font-base + 2upx;\r\n\t\tcolor: $font-color-base;\r\n\t\tpadding-top: 30upx;\r\n\t\tpadding-left: 10upx;\r\n\t}\r\n\t.item-left{\r\n\t\tdisplay: flex;\r\n\t\twidth:120upx;\r\n\t\tmargin-bottom: 60upx;\r\n\t}\r\n\t.item-list {\r\n\t\tpadding: 20upx 0 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\ttext {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tbackground: #eee;\r\n\t\t\tmargin-right: 20upx;\r\n\t\t\tmargin-bottom: 20upx;\r\n\t\t\tborder-radius: 100upx;\r\n\t\t\tmin-width: 60upx;\r\n\t\t\theight: 60upx;\r\n\t\t\tpadding: 0 20upx;\r\n\t\t\tfont-size: $font-base;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t}\r\n\t\t.selected {\r\n\t\t\tbackground: #fbebee;\r\n\t\t\tcolor: $uni-color-primary;\r\n\t\t}\r\n\t\t.disabled {\r\n\t\t\tcolor: $font-color-disabled;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/*  弹出层 */\r\n.popup {\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tz-index: 99;\r\n\r\n\t&.show {\r\n\t\tdisplay: block;\r\n\t\t.mask {\r\n\t\t\tanimation: showPopup 0.2s linear both;\r\n\t\t}\r\n\t\t.layer {\r\n\t\t\tanimation: showLayer 0.2s linear both;\r\n\t\t}\r\n\t}\r\n\t&.hide {\r\n\t\t.mask {\r\n\t\t\tanimation: hidePopup 0.2s linear both;\r\n\t\t}\r\n\t\t.layer {\r\n\t\t\tanimation: hideLayer 0.2s linear both;\r\n\t\t}\r\n\t}\r\n\t&.none {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: 1;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t}\r\n\t.layer {\r\n\t\tposition: fixed;\r\n\t\tz-index: 99;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tmin-height: 40vh;\r\n\t\tborder-radius: 10upx 10upx 0 0;\r\n\t\tbackground-color: #fff;\r\n\t\t.btn {\r\n\t\t\theight: 66upx;\r\n\t\t\tline-height: 66upx;\r\n\t\t\tborder-radius: 100upx;\r\n\t\t\tbackground: $uni-color-primary;\r\n\t\t\tfont-size: $font-base + 2upx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tmargin: 30upx auto 20upx;\r\n\t\t}\r\n\t}\r\n\t@keyframes showPopup {\r\n\t\t0% {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\t@keyframes hidePopup {\r\n\t\t0% {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t}\r\n\t@keyframes showLayer {\r\n\t\t0% {\r\n\t\t\ttransform: translateY(120%);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: translateY(0%);\r\n\t\t}\r\n\t}\r\n\t@keyframes hideLayer {\r\n\t\t0% {\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: translateY(120%);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* 底部操作菜单 */\r\n.page-bottom {\r\n\tposition: fixed;\r\n\tleft: 30upx;\r\n\tbottom: 30upx;\r\n\tz-index: 95;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\twidth: 690upx;\r\n\theight: 100upx;\r\n\tbackground: rgba(255, 255, 255, 0.9);\r\n\tbox-shadow: 0 0 20upx 0 rgba(0, 0, 0, 0.5);\r\n\tborder-radius: 16upx;\r\n\r\n\t.p-b-btn {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: $font-sm;\r\n\t\tcolor: $font-color-base;\r\n\t\twidth: 96upx;\r\n\t\theight: 80upx;\r\n\t\t.yticon {\r\n\t\t\tfont-size: 40upx;\r\n\t\t\tline-height: 48upx;\r\n\t\t\tcolor: $font-color-light;\r\n\t\t}\r\n\t\t&.active,\r\n\t\t&.active .yticon {\r\n\t\t\tcolor: $uni-color-primary;\r\n\t\t}\r\n\t\t.icon-fenxiang2 {\r\n\t\t\tfont-size: 42upx;\r\n\t\t\ttransform: translateY(-2upx);\r\n\t\t}\r\n\t\t.icon-shoucang {\r\n\t\t\tfont-size: 46upx;\r\n\t\t}\r\n\t}\r\n\t.action-btn-group {\r\n\t\tdisplay: flex;\r\n\t\theight: 76upx;\r\n\t\tborder-radius: 100px;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 20upx 40upx -16upx #fa436a;\r\n\t\tbox-shadow: 1px 2px 5px rgba(219, 63, 96, 0.4);\r\n\t\tbackground: linear-gradient(to right, #ffac30, #fa436a, #f56c6c);\r\n\t\tmargin-left: 20upx;\r\n\t\tposition: relative;\r\n\t\t&:after {\r\n\t\t\tcontent: '';\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tright: 50%;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t\theight: 28upx;\r\n\t\t\twidth: 0;\r\n\t\t\tborder-right: 1px solid rgba(255, 255, 255, 0.5);\r\n\t\t}\r\n\t\t.action-btn {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 180upx;\r\n\t\t\theight: 100%;\r\n\t\t\tfont-size: $font-base;\r\n\t\t\tpadding: 0;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tbackground: transparent;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625797124426\n      var cssReload = require(\"C:/Users/sansui/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}